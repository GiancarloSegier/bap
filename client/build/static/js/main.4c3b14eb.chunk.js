(this.webpackJsonpbap=this.webpackJsonpbap||[]).push([[0],{13:function(e,t,a){e.exports={form:"Auth_form__1gJBF",divide:"Auth_divide__1XHKG",fullContainer:"Auth_fullContainer__31_78",subtitle:"Auth_subtitle__1gPcU",title:"Auth_title__1mcU1",intro:"Auth_intro__18BCc",checkListItem:"Auth_checkListItem__3mbcV",checkListNumber:"Auth_checkListNumber__3Tls8",checked:"Auth_checked__30rV-",checker:"Auth_checker__OmLKM"}},14:function(e,t,a){e.exports={sideNav:"SideNav_sideNav__1ZDpT",logo:"SideNav_logo__3-w2O",marginLogo:"SideNav_marginLogo__tQ9Se",navLink:"SideNav_navLink__26L7o",navLink__active:"SideNav_navLink__active__35EKG",navLink__icon:"SideNav_navLink__icon__3O1o7",darkLink:"SideNav_darkLink__25X1D",active:"SideNav_active__Nmkx9",activeDark:"SideNav_activeDark__82bYz",purple:"SideNav_purple__2gwgU"}},16:function(e,t,a){e.exports={modal:"modal_modal__5Ffqc",modalContainer:"modal_modalContainer__mmOOT",divideBorder:"modal_divideBorder__3SbOU",grid:"modal_grid__1Ed5-"}},17:function(e,t,a){e.exports={heading1:"Dashboard_heading1__3JUrb",heading2:"Dashboard_heading2__mNJoE",avatar:"Dashboard_avatar__38snW",oneLine:"Dashboard_oneLine__2hXEc",headGrid:"Dashboard_headGrid__aVTz1",subGrid:"Dashboard_subGrid__2ef0q",frame:"Dashboard_frame__2UH0X",borderRight:"Dashboard_borderRight__1b-0X",borderTop:"Dashboard_borderTop__2V2bg",cardGrid:"Dashboard_cardGrid__136iq"}},19:function(e,t,a){e.exports={avatar:"AvatarNav_avatar__3KDSd",avatarGroup:"AvatarNav_avatarGroup__2pcIV",purple:"AvatarNav_purple__26hoF",dropDown:"AvatarNav_dropDown__1lgvp",modal:"AvatarNav_modal__1wooT modal_modal__5Ffqc",modalContainer:"AvatarNav_modalContainer__2Gc5x modal_modalContainer__mmOOT",divideBorder:"AvatarNav_divideBorder__1UuuM modal_divideBorder__3SbOU",dropDownLink:"AvatarNav_dropDownLink__1bzfO",dropDown__open:"AvatarNav_dropDown__open__2QwFs",dropDown__close:"AvatarNav_dropDown__close__1amUi",chevron__open:"AvatarNav_chevron__open__1PrH9",chevron__close:"AvatarNav_chevron__close__2VtKz"}},2:function(e,t,a){e.exports={form__group:"form_form__group__3qVb-",form__label:"form_form__label__2DJaD",form__title:"form_form__title__1Fu1N",form__input:"form_form__input__1WlIo",form__textarea:"form_form__textarea__v6HTX",errorInput:"form_errorInput__2zDjl",error:"form_error__3Cbfl",errorHidden:"form_errorHidden__2XY0M",form__button:"form_form__button__2skis",previewBox:"form_previewBox__XPG0X",previewImg:"form_previewImg__T9tab",noImg:"form_noImg__3tsD8",avatarInput:"form_avatarInput__1HUsm",avatarButton:"form_avatarButton__26GB6",picked:"form_picked__2AJ4_"}},20:function(e,t,a){e.exports={textButton:"ui_textButton__2w7IL form_form__button__2skis",button__icon:"ui_button__icon___x7DP",buttons:"ui_buttons__KyU1K",purple:"ui_purple__27XzW",purpleIcon:"ui_purpleIcon__3uqDy"}},21:function(e,t,a){e.exports={navbar:"Navbar_navbar__31-FB",rightMenu:"Navbar_rightMenu__2YlhS",navLink:"Navbar_navLink__1J5_h",navButton:"Navbar_navButton__h6GKS",pinkLink:"Navbar_pinkLink__f3sXn Navbar_navButton__h6GKS",purpleLink:"Navbar_purpleLink__3eV_k Navbar_navButton__h6GKS",logo:"Navbar_logo__1nFMD",active:"Navbar_active__3BiYV",activeDark:"Navbar_activeDark__G_Ua1",avatar:"Navbar_avatar__2yIAA"}},25:function(e,t,a){e.exports={heading1:"platform_heading1__3UBSY",headGrid:"platform_headGrid__3YgiF",borderRight:"platform_borderRight__T6-V2",cardGrid:"platform_cardGrid__3esD9",requestBox:"platform_requestBox__3cGgG",selected:"platform_selected__1IA2U",activeRequest:"platform_activeRequest__QK3fL",centerLoader:"platform_centerLoader__eIBFt",loaderLabel:"platform_loaderLabel__xOLdx",scrollRequest:"platform_scrollRequest__1TrTo"}},26:function(e,t,a){e.exports={alertBackground:"Alert_alertBackground__1caRW",fadeBackground:"Alert_fadeBackground__3_APn",alertModal:"Alert_alertModal__nYiRC modal_modal__5Ffqc",undo:"Alert_undo__3qSm8",undo__check:"Alert_undo__check__3CDtf",fadeIn:"Alert_fadeIn__3FOSK",check:"Alert_check__2C92g",message:"Alert_message__On-9i",checkIcon:"Alert_checkIcon__1n-4T",checkMessage:"Alert_checkMessage__1gEkb"}},33:function(e,t,a){e.exports={dashboardContent:"Dashboard_dashboardContent__1OSoh",extraMargin:"Dashboard_extraMargin__1ynSE"}},35:function(e,t,a){e.exports={heading1:"MyCommittee_heading1__3NbdN"}},46:function(e,t,a){e.exports={heading1:"Home_heading1__2doR9"}},51:function(e,t,a){e.exports=a(84)},7:function(e,t,a){e.exports={heading3:"Auth_heading3__3GizG",loginbuttonbox:"Auth_loginbuttonbox__1wYnC",forgot:"Auth_forgot__2mbfz",heading1:"Auth_heading1__2hOLJ",link:"Auth_link__TeU_w",question:"Auth_question__3LC-f",borderBox:"Auth_borderBox__2Vgo1",job:"Auth_job__9k7fQ",contact:"Auth_contact__3v5e3"}},8:function(e,t,a){e.exports={card:"Request_card__3md7p modal_modal__5Ffqc",modalContainer:"Request_modalContainer__2rSna modal_modalContainer__mmOOT",extraMargin:"Request_extraMargin__3sj5d",status:"Request_status__3vBxW",new:"Request_new__3WezU",pending:"Request_pending__3GhQh",heading2:"Request_heading2__2VFJF",body:"Request_body__3IxFH",contact:"Request_contact__1osJQ",contactBox:"Request_contactBox__3l5wB",messageBlock:"Request_messageBlock__3_vMv",organisation:"Request_organisation__3kFGl",request__button:"Request_request__button__Ct4om",approve:"Request_approve__3nsG0",decline:"Request_decline__2cUwf",checker:"Request_checker__12jie",decliner:"Request_decliner__2GyMI",metaData:"Request_metaData__3fbyC",buttons:"Request_buttons__2eH-L",subData:"Request_subData__1sKQl",date:"Request_date__3fAI5",activeCard:"Request_activeCard__2iEyt",requestTitle:"Request_requestTitle__1ugnh Request_heading2__2VFJF",organisationBig:"Request_organisationBig__2IiaM Request_organisation__3kFGl",purple:"Request_purple__2w_dL",trash:"Request_trash__23EnH",oneLine:"Request_oneLine__WNmRo"}},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),s=a.n(r),i=a(34),o=a.n(i),c=a(12),l=a(4),u=a(6),m=a(10),d=a(9),p=a(11),h=a(30),v=a(46),_=a.n(v),f=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",{className:_.a.heading1},"Hallo allemaalkes")))},g=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Toolbox")))},b="/",E="/toolbox",N="/designstudio",w="/login",k="/request",j="/register",S="/dashboard",q="/dashboard",O="/dashboard/committees",R="/dashboard/requests",y="/dashboard/updates",I="/dashboard/mycommittee",C="/dashboard/news",x="/dashboard/planner",A=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Designstudio")))},F=a(7),L=a.n(F),P=a(16),D=a.n(P),U=a(2),B=a.n(U),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),""!==a.state.email&&""!==a.state.password?a.props.userStore.login(a.state.email,a.state.password).then((function(){a.props.userStore.authUser?a.props.history.push(S):a.setState({error:!0,checkUser:!0})})):a.setState({error:!0})},a.checkInput=function(e,t){var n=e.target.value;a.setState({checkUser:!1}),"email"===t&&(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?a.setState({email:n,emailError:!1}):a.setState({email:"",emailError:!0})),"password"===t&&a.setState({password:n})},a.state={email:"",password:"",emailError:!1,error:!1,disabled:!0,checkUser:!1},a.emailInput=s.a.createRef(),a.passwordInput=s.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:D.a.modal},s.a.createElement("div",{className:D.a.modalContainer},s.a.createElement("form",{onSubmit:this.handleSubmit,className:L.a.form},s.a.createElement("h2",{className:B.a.form__title},"Login"),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Email"),s.a.createElement("input",{name:"email",id:"email=",placeholder:"Email",ref:this.emailInput,className:B.a.form__input+" "+(this.state.emailError?B.a.errorInput:null),onChange:function(t){return e.checkInput(t,"email")}}),s.a.createElement("p",{className:this.state.emailError?B.a.error:B.a.errorHidden},"No valid email")),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Password"),s.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",ref:this.passwordInput,className:B.a.form__input,onChange:function(t){return e.checkInput(t,"password")}})),s.a.createElement("div",{className:L.a.loginbuttonbox},s.a.createElement("a",{href:"#",className:L.a.forgot},"forgot login details?"),s.a.createElement("input",{type:"submit",value:"Login",className:B.a.form__button,disabled:!this.state.email||!this.passwordInput.current.value})),s.a.createElement("p",{className:this.state.error?B.a.error:B.a.errorHidden},"Incorrect email or password"))),s.a.createElement("section",null,s.a.createElement("div",{className:D.a.modalContainer+" "+D.a.divideBorder},s.a.createElement("h3",{className:L.a.heading3},"No login details yet?"),s.a.createElement("p",{className:L.a.question},"Organisation fighting against breast cancer and interested in organising a race?"," ",s.a.createElement(c.b,{to:k,className:L.a.link},"Request acces first.")),s.a.createElement("p",{className:L.a.question},"Committee member but no login yet? Ask your\u2028event manager for login details")))))}}]),t}(r.Component),T=Object(n.b)("userStore")(Object(h.f)(M)),G=a(13),J=a.n(G),H=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:J.a.divide+" mediumcontainer"},s.a.createElement("h1",{className:"hidden"},"Loginpage"),s.a.createElement("div",null,s.a.createElement("h2",{className:J.a.subtitle},"Think Pink Europe"),s.a.createElement("p",{className:J.a.title},"Keep your race",s.a.createElement("br",null)," on track")),s.a.createElement(T,null)))},z=a(29),W=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){var t=a(31)(),r=n.state,s=r.name,i=r.surname,o=r.email,c=r.message,l=r.phone,u=r.organisation;e.preventDefault(),""!==s&&""!==i&&""!==u&&""!==l&&""!==o&&""!==c?(fetch("http://localhost:4000/send-mail?type=request&sender=".concat(o,"&message=").concat(c,"&name=").concat(s,"&surname=").concat(i,"&phone=").concat(l,"&organisation=").concat(u,"&id=").concat(t)).catch((function(e){return console.log(e)})),n.props.requestStore.addRequest({id:t,name:s,surname:i,organisation:u,phone:l,email:o,message:c,job:{assignment:"Event Manager",privileges:"admin"},pending:!1}),n.setState({name:"",surname:"",email:"",organisation:"",phone:"",message:""}),n.nameInput.current.value="",n.emailInput.current.value="",n.surnameInput.current.value="",n.messageInput.current.value="",n.phoneInput.current.value="",n.organisationInput.current.value=""):n.setState({error:!0})},n.checkEmail=function(e,t){var a=e.target.value;n.setState({checkUser:!1}),"email"===t&&(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?n.setState({email:a,emailError:!1}):n.setState({email:"",emailError:!0}))},n.handleChange=function(e){var t=e.currentTarget,a=Object(z.a)({},n.state);a[t.name]=t.value,n.setState(a)},n.nameInput=s.a.createRef(),n.surnameInput=s.a.createRef(),n.organisationInput=s.a.createRef(),n.phoneInput=s.a.createRef(),n.emailInput=s.a.createRef(),n.messageInput=s.a.createRef(),n.state={emailError:!1,error:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.surname,r=t.email,i=t.message,o=t.phone,c=t.organisation;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:D.a.modal},s.a.createElement("div",{className:D.a.modalContainer},s.a.createElement("form",{onSubmit:this.handleSubmit,className:L.a.form},s.a.createElement("h2",{className:"hidden"},"Request"),s.a.createElement("div",{className:D.a.grid},s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"name",className:B.a.form__label},"First name"),s.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"First name",ref:this.nameInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"surname",className:B.a.form__label},"Last name"),s.a.createElement("input",{type:"text",name:"surname",id:"surname",placeholder:"Last name",ref:this.surnameInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"organisation",className:B.a.form__label},"Organisation"),s.a.createElement("input",{type:"text",name:"organisation",id:"organisation",placeholder:"Organisation",ref:this.organisationInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"phone",className:B.a.form__label},"Phone number"),s.a.createElement("input",{type:"tel",name:"phone",id:"phone",placeholder:"Phone",ref:this.phoneInput,className:B.a.form__input,onChange:this.handleChange}))),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Email"),s.a.createElement("input",{name:"email",id:"email=",placeholder:"Email",ref:this.emailInput,className:B.a.form__input+" "+(this.state.emailError?B.a.errorInput:null),onChange:function(t){return e.checkEmail(t,"email")}}),s.a.createElement("p",{className:this.state.emailError?B.a.error:B.a.errorHidden},"No valid email")),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"message",className:B.a.form__label},"Message"),s.a.createElement("textarea",{name:"message",id:"message",placeholder:"Message",rows:"10",ref:this.messageInput,className:B.a.form__input+" "+B.a.form__textarea,onChange:this.handleChange})),s.a.createElement("div",{className:L.a.loginbuttonbox},s.a.createElement("p",{className:this.state.error?B.a.error:B.a.errorHidden},"Please fill in all fields"),s.a.createElement("input",{type:"submit",value:"Send",className:B.a.form__button,disabled:!a||!n||!r||!o||!i||!c}))))))}}]),t}(r.Component),K=Object(n.b)("userStore","requestStore")(Object(h.f)(W)),V=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:J.a.divide+" mediumcontainer"},s.a.createElement("h1",{className:"hidden"},"Loginpage"),s.a.createElement("div",null,s.a.createElement("h2",{className:J.a.subtitle},"Join Think Pink Europe"),s.a.createElement("p",{className:J.a.title},"Request acces"),s.a.createElement("p",{className:J.a.intro},"Is your organisation ready to take part in Europe\u2019s biggest sport event to fight against breast cancer? ",s.a.createElement("br",null),"Get in touch and join the movement!")),s.a.createElement(K,null)))},X=a(21),Y=a.n(X),Q=a(19),Z=a.n(Q),$=a(28),ee=a.n($),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClickOutside=function(e){a.setState({dropDown:!1})},a.handleLogout=function(e){a.props.onLogout()},a.state={dropDown:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Z.a.avatarGroup},s.a.createElement(ee.a,{name:"bell",className:Z.a.purple}),s.a.createElement("img",{className:Z.a.avatar,src:t.avatarUrl,alt:"Avatar from ".concat(t.name)}),s.a.createElement("button",{type:"button",className:Z.a.dropDown,onClick:function(){return e.setState((function(e){return{dropDown:!e.dropDown}}))}},s.a.createElement(ee.a,{name:"chevron-down",className:Z.a.purple+" "+(this.state.dropDown?Z.a.chevron__open:Z.a.chevron__close)})),s.a.createElement("div",{className:Z.a.modal+" "+(this.state.dropDown?Z.a.dropDown__open:Z.a.dropDown__close)},s.a.createElement("div",null,s.a.createElement("a",{href:"http://localhost:4000",onClick:this.handleLogout,className:Z.a.dropDownLink+" "+Z.a.modalContainer},s.a.createElement(ee.a,{name:"cog",className:Z.a.purple}),"Settings")),s.a.createElement("div",{className:Z.a.divideBorder},s.a.createElement("a",{href:"http://localhost:4000",onClick:this.handleLogout,className:Z.a.dropDownLink+" "+Z.a.modalContainer},s.a.createElement(ee.a,{name:"power-off",className:Z.a.purple}),"Log out")))))}}]),t}(r.Component),ae=Object(n.b)("userStore")(Object(n.c)((function(e){var t=e.userStore;return s.a.createElement("ul",{className:Y.a.navbar},s.a.createElement("li",{className:Y.a.logo},s.a.createElement(c.c,{exact:!0,className:Y.a.navLink,to:b},"RFTC")),s.a.createElement("div",{className:Y.a.rightMenu},t.authUser?s.a.createElement("li",null,s.a.createElement(c.c,{strict:!0,className:Y.a.navLink,to:S,activeClassName:Y.a.active},"Dashboard")):null,s.a.createElement("li",null,s.a.createElement(c.c,{strict:!0,className:Y.a.navLink,to:N,activeClassName:Y.a.active},"Designstudio")),s.a.createElement("li",null,s.a.createElement(c.c,{strict:!0,className:Y.a.navLink,to:E,activeClassName:Y.a.active},"Toolbox")),t.authUser?s.a.createElement(te,{currentUser:t.authUser,onLogout:t.logout}):s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(c.c,{strict:!0,className:Y.a.navLink+" "+Y.a.purpleLink,to:k},"Request acces")),s.a.createElement("li",null,s.a.createElement(c.c,{strict:!0,className:Y.a.navLink+" "+Y.a.pinkLink,to:w},"Member login")))))}))),ne=a(3),re=a.n(ne),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checks={},a.componentDidMount=function(){return re.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.userStore.logout(),e.next=3,re.a.awrap(a.getInviteId());case 3:a.props.inviteStore.currentInvite.phone&&a.setState({newPhone:a.props.inviteStore.currentInvite.phone});case 4:case"end":return e.stop()}}))},a.getInviteId=function(){var e,t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams(a.props.location.search),t=e.get("id"),a.setState({inviteId:t}),n.next=5,re.a.awrap(a.props.inviteStore.getOne(t));case 5:case"end":return n.stop()}}))},a.handleSubmit=function(e){var t,n,r,s,i,o,c,l,u,m,d,p,h,v,_,f;return re.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return e.preventDefault(),t=a.props,n=t.userStore,r=t.inviteStore,s=t.history,g.next=4,re.a.awrap(a.uploadAvatar());case 4:return i=a.state,o=i.password,c=i.avatarUrl,l=i.newPhone,u=a.props.inviteStore.currentInvite,m=u.email,d=u.name,p=u.surname,h=u.committeeId,v=u.job,_=u.organisation,(f=a.props.inviteStore.currentInvite).id=a.state.inviteId,g.next=10,re.a.awrap(n.register(d,p,m,o,v,l,_,h,c).then((function(){n.login(m,o)})).then((function(){r.deleteInvite(f)})).then((function(){s.push(S)})));case 10:case"end":return g.stop()}}))},a.uploadAvatar=function(){return re.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.awrap(fetch("http://localhost:4000/image-upload",{method:"POST",body:a.state.formData}).then((function(e){return e.json()})).then((function(e){a.setState({avatarUrl:e[0].url})})));case 2:case"end":return e.stop()}}))},a.changeFile=function(e){var t=a.imgPreview,n=a.avatarInput.current.files[0],r=new FileReader;r.addEventListener("load",(function(){t.current.src=r.result}),!1),n&&r.readAsDataURL(n);var s=new FormData;s.append("avatar",n),a.setState({formData:s}),a.checks.avatar=!0,a.props.onUpdate(a.checks)},a.handleChange=function(e){var t=e.currentTarget,n=Object(z.a)({},a.state);n[t.name]=t.value,a.setState(n),a.updateChecks(t)},a.updateChecks=function(e){a.checks[e.name]=e.value,a.props.onUpdate(a.checks)},a.state={password:"",password2:"",phone:"",images:[]},a.avatarInput=s.a.createRef(),a.passwordInput=s.a.createRef(),a.password2Input=s.a.createRef(),a.newPhoneInput=s.a.createRef(),a.imgPreview=s.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.password2,n=(e.newPhone,e.formData),r=this.props.inviteStore.currentInvite,i=r.email,o=r.name,c=r.surname,l=r.job,u=r.organisation,m=r.phone;return i&&o&&c&&this.state.inviteId?s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:D.a.modal},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:D.a.modalContainer},s.a.createElement("h2",{className:"hidden"},"Register"),s.a.createElement("p",{className:B.a.form__title+" "+L.a.borderBox},o," ",c),s.a.createElement("p",{className:L.a.job+" "+L.a.borderBox},l.assignment," - ",u),s.a.createElement("p",{className:L.a.contact+" "+L.a.borderBox},"Something not right here?"),s.a.createElement("p",{className:L.a.contact+" "+L.a.borderBox},"Contact jurgen.vanpraet@thinkpinkeurope.be"),s.a.createElement("div",{className:B.a.previewBox},s.a.createElement("label",{htmlFor:"avatar",className:B.a.avatarButton+" "+(n?B.a.picked:null)},n?null:s.a.createElement("img",{src:"../assets/icons/addAvatar.png"})),s.a.createElement("input",{type:"file",name:"file",id:"avatar",accept:"image/jpg, image/gif, image/png",ref:this.avatarInput,onChange:this.changeFile,className:B.a.avatarInput}),s.a.createElement("img",{src:"#",id:"previewImg",ref:this.imgPreview,className:n?B.a.previewImg:B.a.noImg}))),s.a.createElement("div",{className:D.a.modalContainer+" "+D.a.divideBorder},s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Choose your password"),s.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"New password",ref:this.passwordInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Repeat your password"),s.a.createElement("input",{type:"password",name:"password2",id:"password2",placeholder:"Repeat password",ref:this.password2Input,className:B.a.form__input,onChange:this.handleChange}),s.a.createElement("p",{className:t!==a?B.a.error:B.a.errorHidden},"Passwords don't match")),m?null:s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"newPhone",className:B.a.form__label},"Phonenumber"),s.a.createElement("input",{type:"text",name:"newPhone",id:"newPhone",placeholder:"+42",ref:this.newPhoneInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("div",{className:L.a.loginbuttonbox},s.a.createElement("p",{className:this.state.error?B.a.error:B.a.errorHidden},"Please fill in all fields"),s.a.createElement("input",{type:"submit",value:"Login",className:B.a.form__button,disabled:!this.checks.avatar||!this.checks.password||!this.checks.password2||this.checks.password!==this.checks.password2||!this.checks.newPhone})))))):s.a.createElement("div",null,s.a.createElement("p",null,"Seems like you haven't received an invitation."),s.a.createElement("p",null,"Or you allready used your invitationlink."))}}]),t}(r.Component),ie=Object(n.b)("userStore","inviteStore")(Object(h.f)(Object(n.c)(se))),oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).checks={},n.componentDidMount=function(){return re.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.userStore.logout(),e.next=3,re.a.awrap(n.getRequestId());case 3:case"end":return e.stop()}}))},n.getRequestId=function(){var e,t;return re.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=new URLSearchParams(n.props.location.search),t=e.get("id"),n.setState({requestId:t}),a.next=5,re.a.awrap(n.props.requestStore.getOne(t));case 5:case"end":return a.stop()}}))},n.handleSubmit=function(e){var t,r,s,i,o,c,l,u,m,d,p,h,v,_,f,g,b,E;return re.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:return t=a(45),e.preventDefault(),r=n.props,s=r.userStore,i=r.committeeStore,o=r.requestStore,c=r.history,N.next=5,re.a.awrap(n.uploadAvatar());case 5:return l=n.state,u=l.password,m=l.avatarUrl,d=n.props.requestStore.currentRequest,d.id,p=d.email,h=d.name,v=d.surname,_=d.phone,f=d.organisation,g=d.job,b=n.randomStr(24,"12345abcde"),E=t.Types.ObjectId(b),N.next=11,re.a.awrap(s.register(h,v,p,u,g,_,f,E,m).then((function(){s.login(p,u)})).then((function(){i.addCommittee({id:E,name:f,raceday:new Date("2020-09-29"),city:"",country:"",description:""})})).then((function(){c.push(S)})).then((function(){o.deleteRequest(n.props.requestStore.currentRequest)})));case 11:case"end":return N.stop()}}))},n.uploadAvatar=function(){return re.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.awrap(fetch("http://localhost:4000/image-upload",{method:"POST",body:n.state.formData}).then((function(e){return e.json()})).then((function(e){n.setState({avatarUrl:e[0].url})})));case 2:case"end":return e.stop()}}))},n.changeFile=function(e){var t=n.imgPreview,a=n.avatarInput.current.files,r=a[0],s=new FileReader;s.addEventListener("load",(function(){t.current.src=s.result}),!1),r&&s.readAsDataURL(r);var i=new FormData;Array.from(a).forEach((function(e,t){i.append(t,e)})),n.setState({formData:i}),n.checks.avatar=!0,n.props.onUpdate(n.checks)},n.handleChange=function(e){var t=e.currentTarget,a=Object(z.a)({},n.state);a[t.name]=t.value,n.setState(a),n.updateChecks(t)},n.updateChecks=function(e){n.checks[e.name]=e.value,n.props.onUpdate(n.checks)},n.state={password:"",password2:"",phone:"",images:[]},n.avatarInput=s.a.createRef(),n.passwordInput=s.a.createRef(),n.password2Input=s.a.createRef(),n.imgPreview=s.a.createRef(),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.password,e.password2,e.newPhone,e.formData),a=(e.avatar,this.props.requestStore.currentRequest),n=a.email,r=a.name,i=a.surname,o=a.job,c=a.organisation;a.phone;return n&&r&&i&&this.state.requestId?s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:D.a.modal},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:D.a.modalContainer},s.a.createElement("h2",{className:"hidden"},"Register"),s.a.createElement("p",{className:B.a.form__title+" "+L.a.borderBox},r," ",i),s.a.createElement("p",{className:L.a.job+" "+L.a.borderBox},o.assignment," - ",c),s.a.createElement("p",{className:L.a.contact+" "+L.a.borderBox},"Something not right here?"),s.a.createElement("p",{className:L.a.contact+" "+L.a.borderBox},"Contact jurgen.vanpraet@thinkpinkeurope.be"),s.a.createElement("div",{className:B.a.previewBox},s.a.createElement("label",{htmlFor:"avatar",className:B.a.avatarButton+" "+(t?B.a.picked:null)},t?null:s.a.createElement("img",{src:"../assets/icons/addAvatar.png"})),s.a.createElement("input",{type:"file",name:"file",id:"avatar",accept:"image/jpg, image/gif, image/png",ref:this.avatarInput,onChange:this.changeFile,className:B.a.avatarInput}),s.a.createElement("img",{src:"#",id:"previewImg",ref:this.imgPreview,className:t?B.a.previewImg:B.a.noImg}))),s.a.createElement("div",{className:D.a.modalContainer+" "+D.a.divideBorder},s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Choose your password"),s.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"New password",ref:this.passwordInput,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("fieldset",{className:B.a.form__group},s.a.createElement("label",{htmlFor:"email",className:B.a.form__label},"Repeat your password"),s.a.createElement("input",{type:"password",name:"password2",id:"password2",placeholder:"Repeat password",ref:this.password2Input,className:B.a.form__input,onChange:this.handleChange})),s.a.createElement("div",{className:L.a.loginbuttonbox},s.a.createElement("p",{className:this.state.error?B.a.error:B.a.errorHidden},"Please fill in all fields"),s.a.createElement("input",{type:"submit",value:"Login",className:B.a.form__button,disabled:!this.checks.avatar||!this.checks.password||!this.checks.password2||this.checks.password!==this.checks.password2})))))):s.a.createElement("div",null,s.a.createElement("p",null,"Seems like you haven't received an invitation."),s.a.createElement("p",null,"Or you allready used your invitationlink."))}}]),t}(r.Component),ce=Object(n.b)("userStore","requestStore","committeeStore")(Object(h.f)(Object(n.c)(oe))),le=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onUpdate=function(e){a.setState({avatar:e.avatar,newPhone:e.newPhone,password:e.password,password2:e.password2})};var n=new URLSearchParams(e.location.search);return a.state={avatar:!1,newPhone:"",password:"",password2:"",type:n.get("type")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.type,a=e.avatar,n=e.newPhone,r=e.password,i=e.password2;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:J.a.divide+" mediumcontainer"},s.a.createElement("h1",{className:"hidden"},"Loginpage"),s.a.createElement("div",null,s.a.createElement("h2",{className:J.a.subtitle},"Almost there..."),s.a.createElement("p",{className:J.a.title},"Complete your profile"),s.a.createElement("ul",null,s.a.createElement("li",{className:J.a.checkListItem},s.a.createElement("span",{className:J.a.checkListNumber+" "+(a?J.a.checked:null)},a?s.a.createElement("span",{className:J.a.checker}):"1"),"Upload a profile picture"),s.a.createElement("li",{className:J.a.checkListItem},s.a.createElement("span",{className:J.a.checkListNumber+" "+(r&&i&&r===i?J.a.checked:null)},r&&i&&r===i?s.a.createElement("span",{className:J.a.checker}):"2"),"Choose your own password"),"admin"===t?null:s.a.createElement("li",{className:J.a.checkListItem},s.a.createElement("span",{className:J.a.checkListNumber+" "+(n?J.a.checked:null)},n?s.a.createElement("span",{className:J.a.checker}):"3"),"Add phonenumber"))),"admin"===t?s.a.createElement(ce,{onUpdate:this.onUpdate}):s.a.createElement(ie,{onUpdate:this.onUpdate})))}}]),t}(r.Component),ue=a(33),me=a.n(ue),de=a(14),pe=a.n(de),he=Object(n.b)("userStore")(Object(n.c)((function(e){var t=e.userStore;return s.a.createElement("ul",{className:pe.a.sideNav},s.a.createElement("li",{className:pe.a.marginLogo},s.a.createElement(c.c,{exact:!0,className:pe.a.logo,to:b},"RFTC")),s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,exact:!0,to:q,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/dashboard.png"}),"Dashboard")),"supervisor"===t.privileges?s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,exact:!0,to:O,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/committees.png"}),"Committees")),s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,strict:!0,to:R,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/requests.png"}),"Requests")),s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,strict:!0,to:y,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/announcements.png"}),"Announcements"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,strict:!0,to:I,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/committees.png"}),"Committee")),s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,strict:!0,to:x,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/planner.png"}),"Planner")),s.a.createElement("li",null,s.a.createElement(c.c,{className:pe.a.navLink,strict:!0,to:C,activeClassName:pe.a.navLink__active},s.a.createElement("img",{className:pe.a.navLink__icon,src:"../assets/icons/nav/announcements.png"}),"News"))))}))),ve=Object(n.b)("jobStore")(Object(n.c)((function(e){var t=e.jobStore;return s.a.createElement(s.a.Fragment,null,t.jobs.length>0?s.a.createElement("div",null,s.a.createElement("ul",null,t.jobs.map((function(e){return s.a.createElement("li",null,e.assignment," - privileges: ",e.privileges)})))):s.a.createElement("p",null,"Add a new job, please."))}))),_e=a(25),fe=a.n(_e),ge=a(8),be=a.n(ge),Ee=a(26),Ne=a.n(Ee),we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onClickUndo=function(e){a.setState({undoCheck:!0})},a.onHandleFunction=function(){a.props.onFinishAlert(a.props.params)},a.state={undoCheck:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setIcon(),setTimeout((function(){e.setState({fadeIn:!0})}),100),setTimeout((function(){e.setState({fadeIn:!1})}),4800),setTimeout((function(){e.props.hideAlert(),e.state.undoCheck||e.onHandleFunction()}),5e3)}},{key:"setIcon",value:function(){this.setState({icon:this.props.icon})}},{key:"render",value:function(){var e=this.props.message,t=this.state,a=t.icon,n=t.fadeIn,r=t.undoCheck;return s.a.createElement("div",{className:Ne.a.alertBackground+" "+(n?Ne.a.fadeIn:null)},s.a.createElement("div",{className:Ne.a.alertModal+" "+(n?Ne.a.fadeIn:null)},s.a.createElement("span",{className:Ne.a[a]+" "+(r?Ne.a.checkIcon:null)}),s.a.createElement("p",{className:Ne.a.message+" "+(r?Ne.a.checkMessage:null)},e),s.a.createElement("button",{className:Ne.a.undo+" "+(r?Ne.a.undo__check:null),onClick:this.onClickUndo},"UNDO")))}}]),t}(r.Component),ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).approveRequest=function(e){a.props.alert?a.props.setParams(!0,e,"Invite send","check"):a.props.onUpdateRequest(e)},a.declineRequest=function(e){a.props.alert?a.props.setParams(!0,e,"Request declined","check"):a.props.onDeleteRequest(e)},a.state={edit:!1,currentRequest:e.currentRequest,undo:!1},console.log(e),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.currentRequest,a=new Date(t.createdAt),n=a.getDate(),r=a.getMonth()+1,i=a.getFullYear(),o="".concat(n<10?"0"+n:n,"/").concat(r<10?"0"+r:r,"/").concat(i);return s.a.createElement("article",{className:be.a.card},s.a.createElement("div",null,s.a.createElement("div",{className:be.a.metaData+" "+be.a.modalContainer},t.pending?s.a.createElement("p",{className:be.a.status+" "+be.a.pending},"Pending"):s.a.createElement("p",{className:be.a.status+" "+be.a.new},"New"),s.a.createElement("div",{className:be.a.buttons},s.a.createElement("button",{className:be.a.request__button+" "+be.a.decline,onClick:function(){return e.declineRequest(t)}},s.a.createElement("span",{className:be.a.decliner})),!0===t.pending?null:s.a.createElement("button",{className:be.a.request__button+" "+be.a.approve,onClick:function(){return e.approveRequest(t)}},s.a.createElement("span",{className:be.a.checker})))),this.props.link?s.a.createElement(c.b,{to:{pathname:R,state:{requestId:t.id}}},s.a.createElement("div",{className:be.a.modalContainer},s.a.createElement("h2",{className:be.a.heading2},t.name," ",t.surname),s.a.createElement("div",{className:be.a.subData},s.a.createElement("p",{className:be.a.organisation},t.organisation),s.a.createElement("p",{className:be.a.date},o)))):s.a.createElement("div",{className:be.a.modalContainer},s.a.createElement("h2",{className:be.a.heading2},t.name," ",t.surname),s.a.createElement("div",{className:be.a.subData},s.a.createElement("p",{className:be.a.organisation},t.organisation),s.a.createElement("p",{className:be.a.date},o)))))}}]),t}(r.Component),je=Object(n.b)("requestStore")(Object(n.c)(ke)),Se=a(49),qe=a.n(Se),Oe=a(1),Re=a(20),ye=a.n(Re),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).messageParts=[],a.approveRequest=function(e){console.log(e),a.props.onUpdateRequest(a.props.request)},a.declineRequest=function(e){console.log(e),console.log("decline")},a.state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.request,n=t.messageParts;return s.a.createElement("article",{className:D.a.modal+" "+be.a.extraMargin},s.a.createElement("div",{className:D.a.modalContainer},s.a.createElement("div",{className:be.a.oneLine},s.a.createElement("h2",{className:be.a.requestTitle},a.name," ",a.surname),s.a.createElement(ee.a,{name:"trash",className:be.a.trash})),s.a.createElement("div",{className:be.a.messageBlock},s.a.createElement("p",{className:be.a.organisationBig},a.organisation),n.map((function(e){return s.a.createElement("p",{className:be.a.body},e)}))),s.a.createElement("div",{className:be.a.contactBox},s.a.createElement("p",{className:be.a.body+" "+be.a.contact},s.a.createElement(ee.a,{name:"envelope",className:ye.a.purpleIcon,onClick:this.declineRequest}),a.email),s.a.createElement("p",{className:be.a.body+" "+be.a.contact},s.a.createElement(ee.a,{name:"phone",className:ye.a.purpleIcon}),a.phone))),s.a.createElement("div",{className:D.a.modalContainer+" "+D.a.divideBorder+" "+ye.a.buttons},s.a.createElement("button",{type:"button",className:ye.a.textButton,onClick:function(){return e.approveRequest(a)}},s.a.createElement("span",{className:ye.a.button__icon},"+"),"invite committee"),s.a.createElement("a",{href:"mailto:".concat(a.email),className:ye.a.textButton+" "+ye.a.purple},s.a.createElement(ee.a,{name:"reply",className:ye.a.purpleIcon})," reply with email")))}}]),t}(r.Component),Ce=a(82),xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return re.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e=a.props.requestStore.requests;a.setState({requests:e}),a.setPickedRequest()}),500),setTimeout((function(){a.setState({loading:!1})}),800);case 2:case"end":return e.stop()}}))},a.setPickedRequest=function(){var e,t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=a.props.requestStore.requests,t=a.props.location.state&&a.props.location.state.requestId?Object(Oe.p)(e).filter((function(e){return e.id===a.props.location.state.requestId}))[0]:Object(Oe.p)(e.slice().sort((function(e,t){return Number(t.pending)-Number(e.pending)})).reverse())[0],a.fullPickedRequest=t,a.getMessageParagraphs(t);case 4:case"end":return n.stop()}}))},a.onUpdateRequest=function(e){var t,n;return re.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=e.setPending?e:a.fullPickedRequest).setPending(!0),r.next=4,re.a.awrap(a.props.requestStore.updatePendingRequests(t));case 4:return n=a.props.requestStore.requests,a.setState({requests:n}),r.next=8,re.a.awrap(fetch("http://localhost:4000/send-mail?type=invite&id=".concat(t.id,"&name=").concat(t.name,"&recipient=").concat(t.email,"&organisation=").concat(t.organisation)).catch((function(e){return console.log(e)})));case 8:case"end":return r.stop()}}))},a.onDeleteRequest=function(e){var t,n;return re.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.setPending?e:a.fullPickedRequest,r.next=3,re.a.awrap(a.props.requestStore.deleteRequest(t));case 3:n=a.props.requestStore.requests,a.setState({requests:n});case 5:case"end":return r.stop()}}))},a.pickRequest=function(e){a.fullPickedRequest=e,a.getMessageParagraphs(e)},a.getMessageParagraphs=function(e){var t=[];Ce(e.message).map((function(e){e.type||t.push(e)})),a.setState({pickedRequest:e,messageParts:t})},a.state={requests:[],pickedRequest:null,loading:!0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.requests,n=t.pickedRequest,r=t.loading,i=t.messageParts;return console.log(n),r?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:fe.a.heading1},"Requests"),s.a.createElement("div",{className:fe.a.centerLoader},s.a.createElement(qe.a,{type:"Grid",color:"#ff3066",height:40,width:40}),s.a.createElement("p",{className:fe.a.loaderLabel},"Loading requests"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:fe.a.heading1},"Requests"),a.length>0?s.a.createElement("div",{className:fe.a.headGrid},s.a.createElement("div",{className:fe.a.borderRight+" "+fe.a.cardGrid},a.slice().sort((function(e,t){return Number(t.pending)-Number(e.pending)})).reverse().map((function(t,a){return s.a.createElement("div",{key:a,onClick:function(){return e.pickRequest(t)},className:fe.a.requestBox+" "+(t.id===n.id?fe.a.selected:null)},s.a.createElement(je,{currentRequest:t,onUpdateRequest:e.onUpdateRequest,onDeleteRequest:e.onDeleteRequest,alert:!1,link:!1}))}))),s.a.createElement("div",{className:fe.a.scrollRequest},n?s.a.createElement(Ie,{request:n,messageParts:i,onUpdateRequest:this.onUpdateRequest}):null)):s.a.createElement("p",null,"No requests yet"))}}]),t}(r.Component),Ae=Object(n.b)("requestStore")(Object(n.c)(xe)),Fe=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Updates")))},Le=a(17),Pe=a.n(Le),De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onUpdateRequest=function(e){var t,n,r;return re.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.setPending(!0),s.next=3,re.a.awrap(a.props.requestStore.updatePendingRequests(e));case 3:return t=a.props.requestStore,n=t.pendingRequests,r=t.newRequests,a.setState({pendingRequests:n,newRequests:r}),s.next=7,re.a.awrap(fetch("http://localhost:4000/send-mail?type=invite&id=".concat(e.id,"&name=").concat(e.name,"&recipient=").concat(e.email,"&organisation=").concat(e.organisation)).catch((function(e){return console.log(e)})));case 7:case"end":return s.stop()}}))},a.onDeleteRequest=function(e){var t,n,r;return re.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,re.a.awrap(a.props.requestStore.deleteRequest(e));case 2:t=a.props.requestStore,n=t.pendingRequests,r=t.newRequests,a.setState({pendingRequests:n,newRequests:r});case 4:case"end":return s.stop()}}))},a.hideAlert=function(e){a.setState({alert:e,pickedRequest:{}})},a.setParams=function(e,t,n,r){a.setState({pickedRequest:t,message:n,icon:r,alert:e})},a.state={alert:!1,pendingRequests:[],newRequests:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.requestStore,t=e.pendingRequests,a=e.newRequests;this.setState({pendingRequests:t,newRequests:a})}},{key:"render",value:function(){var e=this,t=this.props.greeting,a=this.props.userStore.authUser,n=this.state,r=n.pendingRequests,i=n.newRequests;return s.a.createElement(s.a.Fragment,null,this.state.alert?s.a.createElement(we,{message:this.state.message,icon:this.state.icon,hideAlert:this.hideAlert,onFinishAlert:this.onUpdateRequest,params:this.state.pickedRequest}):null,s.a.createElement("div",{className:Pe.a.oneLine},s.a.createElement("h1",{className:Pe.a.heading1},t," ",a.name,"."),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:ye.a.textButton+" "+ye.a.purple},s.a.createElement("span",{className:ye.a.button__icon},"+"),"new announcement"),s.a.createElement("button",{type:"button",className:ye.a.textButton},s.a.createElement("span",{className:ye.a.button__icon},"+"),"invite committee"))),s.a.createElement("div",{className:Pe.a.headGrid},s.a.createElement("div",{className:Pe.a.subGrid},s.a.createElement("section",{className:Pe.a.frame+" "+Pe.a.borderRight},s.a.createElement("h2",{className:Pe.a.heading2},"Acces requests"),s.a.createElement("div",{className:Pe.a.cardGrid},i.length>0?s.a.createElement(s.a.Fragment,null,i.slice(0,4).map((function(t){return s.a.createElement(je,{currentRequest:t,onUpdateRequest:e.onUpdateRequest,onDeleteRequest:e.onDeleteRequest,alert:!0,setParams:e.setParams,link:!0})}))):s.a.createElement("p",null,"No requests to show"))),s.a.createElement("section",{className:Pe.a.frame+" "+Pe.a.borderRight+" "+Pe.a.borderTop},s.a.createElement("h2",{className:Pe.a.heading2},"Committee invites"),s.a.createElement("div",{className:Pe.a.cardGrid},r.length>0?s.a.createElement(s.a.Fragment,null,r.slice(0,4).map((function(t){return s.a.createElement(je,{currentRequest:t,onUpdateRequest:e.onUpdateRequest,onDeleteRequest:e.onDeleteRequest,alert:!0,setParams:e.setParams,link:!0})}))):s.a.createElement("p",null,"No invites to show")))),s.a.createElement("section",{className:Pe.a.frame},s.a.createElement("h2",{className:Pe.a.heading2},"Race statistics"))))}}]),t}(r.Component),Ue=Object(n.b)("userStore","requestStore")(Object(n.c)(De)),Be=function(e){function t(e){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.greeting,t=this.props.userStore.authUser;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Pe.a.oneLine},s.a.createElement("h1",{className:Pe.a.heading1},e," ",t.name,".")))}}]),t}(r.Component),Me=Object(n.b)("userStore","requestStore")(Object(n.c)(Be)),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checkDate=function(){var e,t=(new Date).getHours();t>5&&t<11?e="Good morning":t>=11&&t<=18?e="Good afternoon":t>18&&t<=24?e="Good evening":t>=0&&t<=5&&(e="Sleep tight"),a.setState({greeting:e})},a.state={greeting:"Hello"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.checkDate()}},{key:"render",value:function(){var e=this.state.greeting;return"supervisor"===this.props.userStore.authUser.job.privileges?s.a.createElement(Ue,{greeting:e}):s.a.createElement(Me,{greeting:e})}}]),t}(r.Component),Ge=Object(n.b)("userStore")(Object(n.c)(Te)),Je=a(35),He=a.n(Je),ze=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).randomStr=function(e,t){for(var a="",n=e;n>0;n--)a+=t[Math.floor(Math.random()*t.length)];return a},n.handleSubmit=function(e){e.preventDefault();a(31);var t=a(45),r=n.randomStr(24,"12345abcde"),s=t.Types.ObjectId(r),i="",o=[],c=n.state,l=c.name,u=c.surname,m=c.email,d=c.jobAssignment,p=n.props.userStore.authUser,h=p.committeeId,v=p.organisation,_=n.props.jobStore.jobs;if(d)i=d;else{for(var f=0;f<_.length;f++){var g=_[f];"member"===g.privileges&&o.push(g)}i=o[0].assignment}""!==l&&""!==u&&""!==m?(fetch("http://localhost:4000/send-mail?type=committeeinvite&sender=".concat(m,"&sendername=").concat(n.props.userStore.authUser.name,"&name=").concat(l,"&surname=").concat(u,"&committee=").concat(v,"&id=").concat(s)).catch((function(e){return console.log(e)})),n.props.inviteStore.addInvite({id:s,name:l,surname:u,email:m,committeeId:h,organisation:v,job:{assignment:i,privileges:"member"}}),n.setState({name:"",surname:"",email:""}),n.nameInput.current.value="",n.emailInput.current.value="",n.surnameInput.current.value=""):n.setState({error:!0})},n.checkEmail=function(e,t){var a=e.target.value;n.setState({checkUser:!1}),"email"===t&&(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?n.setState({email:a,emailError:!1}):n.setState({email:"",emailError:!0})),n.checkFilledForm()},n.handleChangeJob=function(e){n.setState({jobAssignment:e.target.value})},n.handleChange=function(e){var t=e.currentTarget,a=Object(z.a)({},n.state);a[t.name]=t.value,n.setState(a)},n.nameInput=s.a.createRef(),n.surnameInput=s.a.createRef(),n.emailInput=s.a.createRef(),n.state={emailError:!1,error:!1},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"checkFilledForm",value:function(){""!==this.state.email&&this.setState({error:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.surname,r=t.email;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:L.a.container},s.a.createElement("form",{onSubmit:this.handleSubmit,className:L.a.form},s.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"name",ref:this.nameInput,onChange:this.handleChange,className:L.a.input}),s.a.createElement("input",{type:"text",name:"surname",id:"surname=",placeholder:"surname",ref:this.surnameInput,onChange:this.handleChange,className:L.a.input}),s.a.createElement("input",{type:"email",name:"email",id:"email=",placeholder:"email",ref:this.emailInput,className:L.a.input,onChange:function(t){return e.checkEmail(t,"email")}}),s.a.createElement("p",{className:this.state.emailError?L.a.error:L.a.errorHidden},"You have to fill in a valid email"),s.a.createElement("select",{name:"job",onChange:this.handleChangeJob},this.props.jobStore.jobs.map((function(e){if("member"===e.privileges)return s.a.createElement("option",{value:"".concat(e.assignment)},e.assignment)}))),s.a.createElement("input",{type:"submit",value:"send invite",className:L.a.button,disabled:!r||!a||!n}),s.a.createElement("p",{className:this.state.error?L.a.error:L.a.errorHidden},"Please fill in all fields correctly"))))}}]),t}(r.Component),We=Object(n.b)("userStore","jobStore","requestStore","inviteStore")(Object(h.f)(ze)),Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={committeeId:e.userStore.authUser.committeeId},a.props.committeeStore.getOne(e.userStore.authUser.committeeId),a.props.committeeStore.getCommitteeMembers(e.userStore.authUser.committeeId),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.committeeStore.currentCommittee.name,t=this.props.inviteStore.invites,a=this.props.committeeStore.committeeMembers;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("h1",null,"MyCommittee"),s.a.createElement("p",{className:He.a.heading1},"Team name: ",e),s.a.createElement("br",null),s.a.createElement("hr",null),"admin"===this.props.userStore.authUser.job.privileges?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Invite new member"),s.a.createElement(We,null),s.a.createElement("br",null),s.a.createElement("hr",null),t.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:He.a.heading1},"Invites:"),t.map((function(e){return s.a.createElement("p",null,e.name," - ",e.surname," -"," ",e.job.assignment)}))):null,s.a.createElement("br",null),s.a.createElement("hr",null)):null,a.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:He.a.heading1},"CommitteeMembers:"),a.map((function(e){return s.a.createElement("p",null,e.name," - ",e.surname," - ",e.job.assignment)}))):null))}}]),t}(r.Component),Ve=Object(n.b)("userStore","committeeStore","inviteStore")(Object(n.c)(Ke)),Xe=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"News")))},Ye=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Planner")))},Qe=Object(n.b)("userStore")(Object(n.c)((function(e){var t=e.userStore.authUser.job.privileges;return"supervisor"===t?s.a.createElement("div",{className:me.a.dashboardGrid},s.a.createElement("div",{className:me.a.dashboardNav},s.a.createElement(he,null)),s.a.createElement("div",{className:me.a.dashboardContent},s.a.createElement("div",{className:"container"},s.a.createElement(h.c,null,s.a.createElement(h.a,{path:q,exact:!0,strict:!0,component:Ge}),s.a.createElement(h.a,{path:O,strict:!0,component:ve}),s.a.createElement(h.a,{path:R,strict:!0,component:Ae}),s.a.createElement(h.a,{path:y,strict:!0,component:Fe}))))):"admin"===t||"member"===t?s.a.createElement("div",{className:me.a.dashboardGrid},s.a.createElement("div",{className:me.a.dashboardNav},s.a.createElement(he,null)),s.a.createElement("div",{className:me.a.dashboardContent},s.a.createElement("div",{className:"container"},s.a.createElement(h.c,null,s.a.createElement(h.a,{path:q,exact:!0,strict:!0,component:Ge}),s.a.createElement(h.a,{path:I,strict:!0,component:Ve}),s.a.createElement(h.a,{path:x,strict:!0,component:Ye}),s.a.createElement(h.a,{path:C,strict:!0,component:Xe}))))):void 0}))),Ze=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("p",null,"Not found")))},$e=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement(ae,null),s.a.createElement(h.c,null,s.a.createElement(h.a,{path:b,exact:!0,strict:!0,component:f}),s.a.createElement(h.a,{path:E,strict:!0,component:g}),s.a.createElement(h.a,{path:N,strict:!0,component:A}),s.a.createElement(h.a,{path:w,strict:!0,component:H}),s.a.createElement(h.a,{path:k,strict:!0,component:V}),s.a.createElement(h.a,{path:j,strict:!0,component:le}),this.props.userStore.authUser?s.a.createElement(h.a,{path:S,strict:!0,component:Qe}):null,s.a.createElement(h.a,{path:"*",component:Ze})))}}]),t}(r.Component),et=Object(n.b)("userStore")(Object(n.c)($e)),tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var nt=function e(){Object(l.a)(this,e),this.login=function(e,t){var a;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(fetch("/auth/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:t})}));case 2:if(200!==(a=n.sent).status){n.next=7;break}Promise.resolve(),n.next=8;break;case 7:return n.abrupt("return",a.json().then((function(e){Promise.reject(e)})));case 8:case"end":return n.stop()}}))},this.logout=function(){return fetch("/auth/logout",{method:"POST",headers:{"content-type":"application/json"}})},this.register=function(e,t,a,n,r,s,i,o,c){return fetch("/auth/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e,surname:t,email:a,password:n,job:r,phone:s,organisation:i,committeeId:o,avatarUrl:c})}).then((function(e){200===e.status?Promise.resolve():Promise.reject()}))}},rt=a(50),st=a.n(rt),it=function(){var e=st.a.get("token");return e?function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(t))}(e):null},ot=function e(t){var a=this;Object(l.a)(this,e),this.authUser=null,this.privileges="public",this.setUser=function(e){a.authUser=e,null!==e&&(a.privileges=e.job.privileges)},this.login=function(e,t){return a.authService.login(e,t).then((function(){a.setUser(it()),Promise.resolve()})).catch((function(){a.setUser(null),Promise.reject()}))},this.register=function(e,t,n,r,s,i,o,c,l){return re.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,re.a.awrap(a.authService.register(e,t,n,r,s,i,o,c,l));case 2:case"end":return u.stop()}}))},this.logout=function(){a.authService.logout().then((function(){return a.setUser(null)}))},this.rootStore=t,this.authService=new nt,this.setUser(it())};Object(Oe.h)(ot,{authUser:Oe.m,setUser:Oe.d,privileges:Oe.m});var ct=ot,lt=(a(31),function(){function e(t,a,n,r,s,i,o,c,u,m){var d=this;Object(l.a)(this,e),this.setId=function(e){return d.id=e},this.setName=function(e){return d.name=e},this.setSurname=function(e){return d.surname=e},this.setPhone=function(e){return d.phone=e},this.setOrganisation=function(e){return d.organisation=e},this.setEmail=function(e){return d.email=e},this.setMessage=function(e){return d.message=e},this.setJob=function(e){return d.job=e},this.setPending=function(e){return d.pending=e},this.setDate=function(e){return d.createdAt=e},this.updateFromServer=function(e){d.setId(e._id),d.setName(e.name),d.setSurname(e.surname),d.setPhone(e.phone),d.setOrganisation(e.organisation),d.setEmail(e.email),d.setMessage(e.message),d.setJob(e.job),d.setPending(e.pending),d.setDate(e.createdAt)},this.id=t,this.name=a,this.surname=n,this.phone=r,this.organisation=s,this.email=i,this.message=o,this.job=c,this.pending=u,this.createdAt=m}return Object(u.a)(e,[{key:"values",get:function(){return{id:this.id,name:this.name,surname:this.surname,phone:this.phone,organisation:this.organisation,email:this.email,message:this.message,job:this.job,pending:this.pending,createdAt:this.createdAt}}}]),e}());Object(Oe.h)(lt,{id:Oe.m,setId:Oe.d,setName:Oe.d,setSurname:Oe.d,setOrganisation:Oe.d,setPhone:Oe.d,setEmail:Oe.d,setMessage:Oe.d,setJob:Oe.d,setPending:Oe.d,setDate:Oe.d,values:Oe.e});var ut=lt,mt=function e(t){var a=this;Object(l.a)(this,e),this.getAll=function(){var e;return re.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.a.awrap(fetch("/api/".concat(a.entity)));case 2:return e=t.sent,t.next=5,re.a.awrap(e.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}))},this.getOne=function(e){var t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=13;break}return n.next=3,re.a.awrap(fetch("/api/".concat(a.entity,"/").concat(e)));case 3:if(!0!==(t=n.sent).ok){n.next=10;break}return n.next=7,re.a.awrap(t.json());case 7:return n.abrupt("return",n.sent);case 10:return n.abrupt("return",null);case 11:n.next=14;break;case 13:return n.abrupt("return",null);case 14:case"end":return n.stop()}}))},this.create=function(e){var t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(fetch("/api/".concat(a.entity),a.getOptions("post",e.values)));case 2:return t=n.sent,n.next=5,re.a.awrap(t.json());case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}))},this.update=function(e){var t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(fetch("/api/".concat(a.entity,"/").concat(e.id),a.getOptions("put",e.values)));case 2:return t=n.sent,n.next=5,re.a.awrap(t.json());case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}))},this.delete=function(e){var t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(fetch("/api/".concat(a.entity,"/").concat(e.id),a.getOptions("delete")));case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}))},this.getOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={method:e.toUpperCase()};if(a||(n.headers={"content-type":"application/json"}),t)if(a){var r=new FormData;for(var s in t)r.append(s,t[s]);n.body=r}else n.body=JSON.stringify(t);return n},this.entity=t};Object(Oe.f)({enforceActions:"observed"});var dt=function e(t){var a=this;Object(l.a)(this,e),this.requests=[],this.currentRequest={},this.newRequests=[],this.pendingRequests=[],this.getAll=function(){a.requests=[],a.api.getAll().then((function(e){return e.forEach(a._addRequest)}))},this.getAllNewRequests=function(){a.newRequests=[],a.api.getAll().then((function(e){return e.filter((function(e){return!1===e.pending})).forEach(a._addNewRequest)}))},this.getPendingRequests=function(){a.pendingRequests=[],a.api.getAll().then((function(e){return e.filter((function(e){return!0===e.pending})).forEach(a._addPendingRequest)}))},this.getOne=function(e){a.api.getOne(e).then((function(e){null!==e&&a._getCurrentRequest(e)}))},this.addRequest=function(e){var t=new ut;t.updateFromServer(e),a.requests.push(t),a.api.create(t).then((function(e){return t.updateFromServer(e)}))},this._addRequest=function(e){var t=new ut;t.updateFromServer(e),Object(Oe.n)((function(){a.requests.push(t)}))},this._addNewRequest=function(e){var t=new ut;t.updateFromServer(e),Object(Oe.n)((function(){a.newRequests.push(t)}))},this._addPendingRequest=function(e){var t=new ut;t.updateFromServer(e),Object(Oe.n)((function(){a.pendingRequests.push(t)}))},this._getCurrentRequest=function(e){var t=new ut;t.updateFromServer(e),Object(Oe.n)((function(){a.currentRequest=t}))},this.updatePendingRequests=function(e){return re.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.newRequests.remove(e),a.pendingRequests.push(e),t.next=4,re.a.awrap(a.api.update(e).then((function(t){return e.updateFromServer(t)})));case 4:a.getAll(),a.getAllNewRequests(),a.getPendingRequests();case 7:case"end":return t.stop()}}))},this.updateRequest=function(e){a.api.update(e).then((function(t){return e.updateFromServer(t)}))},this.deleteRequest=function(e){return re.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.requests.remove(e),t.next=3,re.a.awrap(a.api.delete(e));case 3:a.getAll(),a.getAllNewRequests(),a.getPendingRequests();case 6:case"end":return t.stop()}}))},this.rootStore=t,this.api=new mt("requests"),this.getAllNewRequests(),this.getAll(),this.getPendingRequests()};Object(Oe.h)(dt,{getAll:Oe.d,getAllNewRequests:Oe.d,getPendingRequests:Oe.d,requests:Oe.m,addRequest:Oe.d,deleteRequest:Oe.d,getOne:Oe.d,currentRequest:Oe.m,pendingRequests:Oe.m,updatePendingRequests:Oe.d,newRequests:Oe.m});var pt=dt,ht=function(){function e(t,a,n){var r=this;Object(l.a)(this,e),this.setId=function(e){return r.id=e},this.setJob=function(e){return r.assignment=e},this.setPrivileges=function(e){return r.privileges=e},this.updateFromServer=function(e){r.setId(e._id),r.setJob(e.assignment),r.setPrivileges(e.privileges)},this.id=t,this.assignment=a,this.privileges=n}return Object(u.a)(e,[{key:"values",get:function(){return{id:this.id,assignment:this.assignment,privileges:this.privileges}}}]),e}();Object(Oe.h)(ht,{id:Oe.m,setId:Oe.d,setJob:Oe.d,setPrivileges:Oe.d,values:Oe.e});var vt=ht;Object(Oe.f)({enforceActions:"observed"});var _t=function e(t){var a=this;Object(l.a)(this,e),this.jobs=[],this.getAll=function(){a.api.getAll().then((function(e){return e.forEach(a._addJob)}))},this._addJob=function(e){var t=new vt;t.updateFromServer(e),Object(Oe.n)((function(){a.jobs.push(t)}))},this.rootStore=t,this.api=new mt("jobs"),this.getAll()};Object(Oe.h)(_t,{jobs:Oe.m});var ft=_t,gt=function(){function e(t,a,n,r,s,i){var o=this;Object(l.a)(this,e),this.setId=function(e){return o.id=e},this.setName=function(e){return o.name=e},this.setRaceday=function(e){return o.raceday=e},this.setCity=function(e){return o.city=e},this.setCountry=function(e){return o.country=e},this.setDescription=function(e){return o.description=e},this.updateFromServer=function(e){o.setId(e.id),o.setName(e.name),o.setRaceday(e.raceday),o.setCity(e.city),o.setCountry(e.country),o.setDescription(e.description)},this.id=t,this.name=a,this.raceday=n,this.city=r,this.country=s,this.description=i}return Object(u.a)(e,[{key:"values",get:function(){return{id:this.id,name:this.name,raceday:this.raceday,city:this.city,country:this.country,description:this.description}}}]),e}();Object(Oe.h)(gt,{id:Oe.m,setId:Oe.d,setName:Oe.d,setRaceday:Oe.d,setCity:Oe.d,setCountry:Oe.d,setDescription:Oe.d,values:Oe.e});var bt=gt,Et=function(){function e(t,a,n,r,s,i,o,c){var u=this;Object(l.a)(this,e),this.setId=function(e){return u.id=e},this.setName=function(e){return u.name=e},this.setSurname=function(e){return u.surname=e},this.setJob=function(e){return u.job=e},this.setCommitteeId=function(e){return u.committeeId=e},this.setAvatarUrl=function(e){return u.avatarUrl=e},this.setEmail=function(e){return u.email=e},this.setPhone=function(e){return u.phone=e},this.updateFromServer=function(e){u.setId(e._id),u.setName(e.name),u.setSurname(e.surname),u.setJob(e.job),u.setCommitteeId(e.committeeId),u.setAvatarUrl(e.avatarUrl),u.setEmail(e.email),u.setPhone(e.phone)},this.id=t,this.name=a,this.surname=n,this.job=r,this.committeeId=s,this.avatarUrl=i,this.email=o,this.phone=c}return Object(u.a)(e,[{key:"values",get:function(){return{id:this.id,name:this.name,surname:this.surname,job:this.job,committeeId:this.committeeId,avatarUrl:this.avatarUrl,email:this.email,phone:this.phone}}}]),e}();Object(Oe.h)(Et,{id:Oe.m,setId:Oe.d,setName:Oe.d,setSurname:Oe.d,setJob:Oe.d,setCommitteeId:Oe.d,setAvatarUrl:Oe.d,setEmail:Oe.d,setPhone:Oe.d,values:Oe.e});var Nt=Et;Object(Oe.f)({enforceActions:"observed"});var wt=function e(t){var a=this;Object(l.a)(this,e),this.committees=[],this.currentCommittee={},this.committeeMembers=[],this.getAll=function(){a.api.getAll().then((function(e){return e.forEach(a._addCommittee)}))},this.getCommitteeMembers=function(e){a.committeeMembers=[],a.userApi.getAll().then((function(t){t.filter((function(t){return t.committeeId===e})).forEach(a._addCommitteeMember)}))},this.getOne=function(e){a.api.getOne(e).then((function(e){a._getCurrentCommittee(e)}))},this.addCommittee=function(e){var t=new bt;t.updateFromServer(e),a.committees.push(t),a.api.create(t).then((function(e){return t.updateFromServer(e)}))},this._addCommittee=function(e){var t=new bt;t.updateFromServer(e),Object(Oe.n)((function(){a.committees.push(t)}))},this._addCommitteeMember=function(e){var t=new Nt;t.updateFromServer(e),Object(Oe.n)((function(){a.committeeMembers.push(t)}))},this._getCurrentCommittee=function(e){var t=new bt;t.updateFromServer(e),Object(Oe.n)((function(){a.currentCommittee=t}))},this.updateCommittee=function(e){a.api.update(e).then((function(t){return e.updateFromServer(t)}))},this.deleteCommittee=function(e){a.committees.remove(e),a.api.delete(e)},this.rootStore=t,this.api=new mt("committees"),this.userApi=new mt("users"),this.getAll()};Object(Oe.h)(wt,{committees:Oe.m,addCommittee:Oe.d,deleteCommittee:Oe.d,getOne:Oe.d,getCommitteeMembers:Oe.d,committeeMembers:Oe.m,currentCommittee:Oe.m});var kt=wt,jt=function(){function e(t,a,n,r,s,i,o){var c=this;Object(l.a)(this,e),this.setId=function(e){return c.id=e},this.setName=function(e){return c.name=e},this.setSurname=function(e){return c.surname=e},this.setEmail=function(e){return c.email=e},this.setJob=function(e){return c.job=e},this.setCommitteeId=function(e){return c.committeeId=e},this.setOrganisation=function(e){return c.organisation=e},this.updateFromServer=function(e){c.setId(e.id),c.setName(e.name),c.setSurname(e.surname),c.setEmail(e.email),c.setJob(e.job),c.setCommitteeId(e.committeeId),c.setOrganisation(e.organisation)},this.id=t,this.name=a,this.surname=n,this.email=r,this.job=s,this.committeeId=i,this.organisation=o}return Object(u.a)(e,[{key:"values",get:function(){return{id:this.id,name:this.name,surname:this.surname,email:this.email,job:this.job,committeeId:this.committeeId,organisation:this.organisation}}}]),e}();Object(Oe.h)(jt,{id:Oe.m,setId:Oe.d,setName:Oe.d,setSurname:Oe.d,setEmail:Oe.d,setJob:Oe.d,setCommitteeId:Oe.d,setOrganisation:Oe.d,values:Oe.e});var St=jt;Object(Oe.f)({enforceActions:"observed"});var qt=function e(t){var a=this;Object(l.a)(this,e),this.invites=[],this.currentInvite={},this.getAll=function(){a.api.getAll().then((function(e){return e.forEach(a._addInvite)}))},this.getOne=function(e){a.api.getOne(e).then((function(e){null!==e&&a._getCurrentInvite(e)}))},this.addInvite=function(e){var t=new St;t.updateFromServer(e),a.invites.push(t),a.api.create(t).then((function(e){return t.updateFromServer(e)}))},this._addInvite=function(e){var t=new St;t.updateFromServer(e),Object(Oe.n)((function(){a.invites.push(t)}))},this._getCurrentInvite=function(e){var t=new St;t.updateFromServer(e),Object(Oe.n)((function(){a.currentInvite=t}))},this.deleteInvite=function(e){a.invites.remove(e),a.api.delete(e)},this.rootStore=t,this.api=new mt("invites"),this.getAll()};Object(Oe.h)(qt,{invites:Oe.m,addInvite:Oe.d,deleteInvite:Oe.d,getOne:Oe.d,currentInvite:Oe.m});var Ot=qt,Rt=new function e(){Object(l.a)(this,e),this.userStore=new ct(this),this.requestStore=new pt(this),this.jobStore=new ft(this),this.committeeStore=new kt(this),this.inviteStore=new Ot(this)};a(83);o.a.render(s.a.createElement(n.a,Rt,s.a.createElement(c.a,null,s.a.createElement(et,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):at(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):at(t,e)}))}}()}},[[51,1,2]]]);
//# sourceMappingURL=main.4c3b14eb.chunk.js.map